---
layout: post
title: C++STL
author: jevon xiong
tags:
- blog
- C++
date: 2024-03-16 19:11 +0800
toc: true
---
[TOC]



# C++标准模板库学习

## 0 STL简介

STL，英文全称 standard template library，中文可译为标准模板库或者泛型库，其包含有大量的模板类和模板函数，是 C++ 提供的一个基础模板的集合，用于完成诸如输入/输出、数学计算等功能。

通常认为，STL 是由容器、算法、迭代器、函数对象、适配器、内存分配器这 6 部分构成，其中后面 4 部分是为前 2 部分服务的。

## 1 string类

1.长度：

| `s.size()`和`s.length()` | 返回string对象的字符个数 |
| ------------------------ | ------------------------ |

2.插入

| `s.push_back(str)`      | 末尾插入str                |
| ----------------------- | -------------------------- |
| `s.insert(pos,element)` | 在pos位置插入element       |
| `s.append(str)`         | 在s字符串结尾添加str字符串 |

3.删除

| `erase(iterator p)`                    | 删除字符串中p所指的字符                        |
| -------------------------------------- | ---------------------------------------------- |
| `erase(iterator first, iterator last)` | 删除字符串中迭代器区间`[first,last)`上所有字符 |
| `erase(pos, len)`                      | 删除字符串中从索引位置pos开始的len个字符       |
| `clear()`                              | 删除字符串中所有的字符                         |

4.字符替换

| `s.replace(pos, n, str)`   | 把当前字符串从索引pos开始的n个字符替换为str      |
| -------------------------- | ------------------------------------------------ |
| `s.replace(pos, n, n1, c)` | 把当前字符串从索引pos开始的n个字符替换为n1个字符 |
| `s.replace(it1, it2, str)` | 把当前字符串`[it1, it2)`区间替换为str            |

5.大小写替换

| `tolower(s[i])` | 转换为小写 |
| --------------- | ---------- |
| `toupper(s[i])` | 转换为大写 |

6.分割

| `s.substr(pos, n)` | 截取从pos索引开始的n个字符 |
| ------------------ | -------------------------- |

## 3 标准模板库

所有的STL容器都提供了一些基本方法：

- size()：返回容器中元素的个数
- swap()：交换两个容器的内容
- begin()：返回一个指向容器中第一个元素的迭代器
- end()：返回一个表示超过容器尾的迭代器，类似于字符串的\0

**vector**容器中有其他容器不具有的特有方法。

`push_back()`将元素添加进矢量末尾。它将负责动态内存管理，当矢量内存不够时，将自动扩容

`erase()`接收两个迭代器，删除矢量中给定区间的元素，左闭右开

`insert()`接收三个迭代器，第一个指定新元素的插入位置，第二三个指定插入区间，左闭右开



`for_each()`接收三个参数，前两个是定义容器中区间的迭代器，最后一个是指向函数的指针（准确来说是函数对象）。它将被指向的函数应用于容器区间中的各个元素，函数不能修改容器元素的值。

`random_shuffle()`接收两个指定容器区间的迭代器，随机排列该区间中的元素。



`sort()`接受两个定义区间的迭代器参数，并使用为存储在容器中的类型元素定义的**<**运算符，对区间中的元素进行操作。
		如果容器元素是自定义类型，需要在类中对operator<()函数进行重载
		接受两个定义区间的迭代器参数，第三个参数是指向要使用的函数的指针（函数对象）

基于范围的for循环

`for(double x : prices)`

基于范围的for循环可以修改容器元素，而for_each不行。

| 代码           | 返回类型 | 含义       | 支持容器            |
| -------------- | -------- | ---------- | ------------------- |
| a.front()      | T&       | 返回头元素 | vector, list, deque |
| a.back()       | T&       | 返回尾元素 | vector, list, deque |
| a.push_front() | void     | 首增加元素 | list, deque         |
| a.push_back()  | void     | 尾增加元素 | vector, list, deque |
| a.pop_front()  | void     | 删除首元素 | list, deque         |
| a.pop_back()   | void     | 删除尾元素 | vector, list, deque |
| a[n]           | T&       | 随机访问n  | vector, deque       |
| a.at[n]        | T&       | 随机访问n  | vector, deque       |



## 4 范式编程

STL是一种泛型编程。泛型编程关注的是算法。

模板使得算法独立于数据类型，迭代器使得算法独立于容器类型（数据结构）。

